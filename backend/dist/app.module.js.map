{"version":3,"sources":["../src/app.module.ts"],"sourcesContent":["import { DrizzlePGModule } from \"@knaadh/nestjs-drizzle-pg\";\r\nimport { Module } from \"@nestjs/common\";\r\nimport { ConfigModule, ConfigService } from \"@nestjs/config\";\r\nimport { CqrsModule } from \"@nestjs/cqrs\";\r\nimport { QueueModule } from \"./modules/queues/queues.module\";\r\nimport { MasterModule } from \"./modules/master/master.module\";\r\nimport { DBSchema } from \"./database/schemas\";\r\nimport { DashboardModule } from \"./modules/dashboard/dashboard.module\";\r\n\r\n@Module({\r\n  imports: [\r\n    CqrsModule.forRoot(),\r\n    ConfigModule.forRoot({\r\n      isGlobal: true,\r\n    }),\r\n    DrizzlePGModule.registerAsync({\r\n      inject: [ConfigService],\r\n      tag: \"DB_PG\",\r\n      useFactory(configService: ConfigService) {\r\n        return {\r\n          pg: {\r\n            connection: \"pool\",\r\n            config: {\r\n              connectionString: configService.get<string>(\r\n                \"DB_CONNECTION_STRING\"\r\n              ),\r\n            },\r\n          },\r\n          config: {\r\n            schema: DBSchema,\r\n          },\r\n        };\r\n      },\r\n    }),\r\n    MasterModule,\r\n    QueueModule,\r\n    DashboardModule,\r\n  ],\r\n})\r\nexport class AppModule {}\r\n"],"names":["AppModule","imports","CqrsModule","forRoot","ConfigModule","isGlobal","DrizzlePGModule","registerAsync","inject","ConfigService","tag","useFactory","configService","pg","connection","config","connectionString","get","schema","DBSchema","MasterModule","QueueModule","DashboardModule"],"mappings":";;;;+BAuCaA;;;eAAAA;;;iCAvCmB;wBACT;wBACqB;sBACjB;8BACC;8BACC;yBACJ;iCACO;;;;;;;AAgCzB,IAAA,AAAMA,YAAN,MAAMA;AAAW;;;QA7BtBC,SAAS;YACPC,gBAAU,CAACC,OAAO;YAClBC,oBAAY,CAACD,OAAO,CAAC;gBACnBE,UAAU;YACZ;YACAC,gCAAe,CAACC,aAAa,CAAC;gBAC5BC,QAAQ;oBAACC,qBAAa;iBAAC;gBACvBC,KAAK;gBACLC,YAAWC,aAA4B;oBACrC,OAAO;wBACLC,IAAI;4BACFC,YAAY;4BACZC,QAAQ;gCACNC,kBAAkBJ,cAAcK,GAAG,CACjC;4BAEJ;wBACF;wBACAF,QAAQ;4BACNG,QAAQC,iBAAQ;wBAClB;oBACF;gBACF;YACF;YACAC,0BAAY;YACZC,yBAAW;YACXC,gCAAe;SAChB"}