{"version":3,"sources":["../src/app.module.ts"],"sourcesContent":["import { DrizzlePGModule } from \"@knaadh/nestjs-drizzle-pg\";\r\nimport { Module } from \"@nestjs/common\";\r\nimport { ConfigModule, ConfigService } from \"@nestjs/config\";\r\n\r\nimport { QueueModule } from \"./modules/queues/queues.module\";\r\nimport { MasterModule } from \"./modules/master/master.module\";\r\nimport { DBSchema } from \"./database/schemas\";\r\nimport { DashboardModule } from \"./modules/dashboard/dashboard.module\";\r\nimport { AuthModule } from \"./modules/auth/auth.module\";\r\nimport { CronModule } from \"./utils/scheduler/cron.module\";\r\nimport { ScheduleModule } from \"@nestjs/schedule\";\r\n\r\n@Module({\r\n  imports: [\r\n    ConfigModule.forRoot({\r\n      isGlobal: true,\r\n    }),\r\n    DrizzlePGModule.registerAsync({\r\n      inject: [ConfigService],\r\n      tag: \"DB_PG\",\r\n      useFactory(configService: ConfigService) {\r\n        return {\r\n          pg: {\r\n            connection: \"pool\",\r\n            config: {\r\n              connectionString: configService.get<string>(\r\n                \"DB_CONNECTION_STRING\"\r\n              ),\r\n            },\r\n          },\r\n          config: {\r\n            schema: DBSchema,\r\n          },\r\n        };\r\n      },\r\n    }),\r\n    ScheduleModule.forRoot(),\r\n    CronModule,\r\n    AuthModule,\r\n    DashboardModule,\r\n    MasterModule,\r\n    QueueModule,\r\n  ],\r\n})\r\nexport class AppModule {}\r\n"],"names":["AppModule","imports","ConfigModule","forRoot","isGlobal","DrizzlePGModule","registerAsync","inject","ConfigService","tag","useFactory","configService","pg","connection","config","connectionString","get","schema","DBSchema","ScheduleModule","CronModule","AuthModule","DashboardModule","MasterModule","QueueModule"],"mappings":";;;;+BA4CaA;;;eAAAA;;;iCA5CmB;wBACT;wBACqB;8BAEhB;8BACC;yBACJ;iCACO;4BACL;4BACA;0BACI;;;;;;;AAkCxB,IAAA,AAAMA,YAAN,MAAMA;AAAW;;;QA/BtBC,SAAS;YACPC,oBAAY,CAACC,OAAO,CAAC;gBACnBC,UAAU;YACZ;YACAC,gCAAe,CAACC,aAAa,CAAC;gBAC5BC,QAAQ;oBAACC,qBAAa;iBAAC;gBACvBC,KAAK;gBACLC,YAAWC,aAA4B;oBACrC,OAAO;wBACLC,IAAI;4BACFC,YAAY;4BACZC,QAAQ;gCACNC,kBAAkBJ,cAAcK,GAAG,CACjC;4BAEJ;wBACF;wBACAF,QAAQ;4BACNG,QAAQC,iBAAQ;wBAClB;oBACF;gBACF;YACF;YACAC,wBAAc,CAAChB,OAAO;YACtBiB,sBAAU;YACVC,sBAAU;YACVC,gCAAe;YACfC,0BAAY;YACZC,yBAAW;SACZ"}