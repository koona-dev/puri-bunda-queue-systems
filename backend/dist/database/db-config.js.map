{"version":3,"sources":["../../src/database/db-config.ts"],"sourcesContent":["import { ConfigService } from \"@nestjs/config\";\r\nimport \"dotenv/config\";\r\nimport { Pool } from \"pg\";\r\nimport { drizzle } from \"drizzle-orm/node-postgres\";\r\n\r\nimport { DBSchema } from \"./schemas\";\r\n\r\nconst configService = new ConfigService();\r\n\r\nconst dbConnectionString = configService.get<string>(\"DB_CONNECTION_STRING\");\r\n\r\nconst pool = new Pool({\r\n  connectionString: dbConnectionString,\r\n});\r\n\r\nexport const db = drizzle(pool, {\r\n  schema: DBSchema,\r\n});\r\n\r\nexport default db;\r\n"],"names":["db","configService","ConfigService","dbConnectionString","get","pool","Pool","connectionString","drizzle","schema","DBSchema"],"mappings":";;;;;;;;;;;QAeaA;eAAAA;;QAIb;eAAA;;;wBAnB8B;QACvB;oBACc;8BACG;yBAEC;AAEzB,MAAMC,gBAAgB,IAAIC,qBAAa;AAEvC,MAAMC,qBAAqBF,cAAcG,GAAG,CAAS;AAErD,MAAMC,OAAO,IAAIC,QAAI,CAAC;IACpBC,kBAAkBJ;AACpB;AAEO,MAAMH,KAAKQ,IAAAA,qBAAO,EAACH,MAAM;IAC9BI,QAAQC,iBAAQ;AAClB;MAEA,WAAeV"}