{"version":3,"sources":["../../src/database/seeder.ts"],"sourcesContent":["// import * as bcrypt from \"bcrypt\";\r\n// import { drizzle } from \"drizzle-orm/node-postgres\";\r\n\r\n// async function seedDatabase() {\r\n//   console.log(\"Loading environment variables...\");\r\n//   const dbConnectionString = process.env.DB_CONNECTION_STRING;\r\n\r\n//   console.log(\"DATABASE_URL:\", dbConnectionString);\r\n\r\n//   if (!dbConnectionString) {\r\n//     console.error(\"‚ùå Database connection string is missing.\");\r\n//     return;\r\n//   }\r\n\r\n//   console.log(\"‚úÖ Connecting to database...\");\r\n//   const database = drizzle(dbConnectionString);\r\n\r\n//   console.log(\"üå± Seeding database...\");\r\n\r\n//   try {\r\n//     const branchData: NewBranch = {\r\n//       name: \"Holding Company\",\r\n//       phone: \"08123456789\",\r\n//       address: \"Tabanan, Bali, Indonesia\",\r\n//     };\r\n\r\n//     const insertedBranch = await database\r\n//       .insert(branches)\r\n//       .values(branchData)\r\n//       .returning({\r\n//         id: branches.id,\r\n//         name: branches.name,\r\n//       });\r\n//     console.log(\"Branch created:\", insertedBranch);\r\n\r\n//     if (!insertedBranch) {\r\n//       console.error(\"Error seeding branch:\");\r\n//       return;\r\n//     }\r\n\r\n//     const userGroupData: NewUserGroups = {\r\n//       name: \"Administrator\",\r\n//     };\r\n\r\n//     const insertedGroup = await database\r\n//       .insert(userGroups)\r\n//       .values(userGroupData)\r\n//       .returning({\r\n//         id: branches.id,\r\n//         name: branches.name,\r\n//       });\r\n//     console.log(\"User group created:\", insertedGroup);\r\n\r\n//     if (!insertedGroup) {\r\n//       console.error(\"Error seeding user group:\");\r\n//       return;\r\n//     }\r\n\r\n//     const userData: NewUser = {\r\n//       name: \"Admin\",\r\n//       phone: \"08123456789\",\r\n//       username: \"admin@dmcones.com\",\r\n//       password: encryptPassword(\"admin911\"),\r\n//       branchId: insertedBranch[0].id,\r\n//       groupId: insertedGroup[0].id,\r\n//       aktif: true,\r\n//     };\r\n\r\n//     const [newUser] = await database.insert(users).values(userData).returning({\r\n//       id: users.id,\r\n//       email: users.username,\r\n//       name: users.name,\r\n//     });\r\n\r\n//     console.log(\"‚úÖ User created:\", newUser);\r\n//   } catch (error) {\r\n//     console.error(\"‚ùå Error seeding user:\", error);\r\n//   }\r\n\r\n//   console.log(\"üéâ Seeding Finished.\");\r\n// }\r\n\r\n// seedDatabase();\r\n"],"names":[],"mappings":"AAAA,oCAAoC;AACpC,uDAAuD;AAEvD,kCAAkC;AAClC,qDAAqD;AACrD,iEAAiE;AAEjE,sDAAsD;AAEtD,+BAA+B;AAC/B,iEAAiE;AACjE,cAAc;AACd,MAAM;AAEN,gDAAgD;AAChD,kDAAkD;AAElD,2CAA2C;AAE3C,UAAU;AACV,sCAAsC;AACtC,iCAAiC;AACjC,8BAA8B;AAC9B,6CAA6C;AAC7C,SAAS;AAET,4CAA4C;AAC5C,0BAA0B;AAC1B,4BAA4B;AAC5B,qBAAqB;AACrB,2BAA2B;AAC3B,+BAA+B;AAC/B,YAAY;AACZ,sDAAsD;AAEtD,6BAA6B;AAC7B,gDAAgD;AAChD,gBAAgB;AAChB,QAAQ;AAER,6CAA6C;AAC7C,+BAA+B;AAC/B,SAAS;AAET,2CAA2C;AAC3C,4BAA4B;AAC5B,+BAA+B;AAC/B,qBAAqB;AACrB,2BAA2B;AAC3B,+BAA+B;AAC/B,YAAY;AACZ,yDAAyD;AAEzD,4BAA4B;AAC5B,oDAAoD;AACpD,gBAAgB;AAChB,QAAQ;AAER,kCAAkC;AAClC,uBAAuB;AACvB,8BAA8B;AAC9B,uCAAuC;AACvC,+CAA+C;AAC/C,wCAAwC;AACxC,sCAAsC;AACtC,qBAAqB;AACrB,SAAS;AAET,kFAAkF;AAClF,sBAAsB;AACtB,+BAA+B;AAC/B,0BAA0B;AAC1B,UAAU;AAEV,+CAA+C;AAC/C,sBAAsB;AACtB,qDAAqD;AACrD,MAAM;AAEN,yCAAyC;AACzC,IAAI;AAEJ,kBAAkB"}