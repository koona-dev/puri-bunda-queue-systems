{"version":3,"sources":["../src/main.ts"],"sourcesContent":["import { ValidationPipe, VersioningType } from \"@nestjs/common\";\r\nimport { ConfigService } from \"@nestjs/config\";\r\nimport { NestFactory } from \"@nestjs/core\";\r\nimport compression from \"compression\";\r\nimport cookieParser from \"cookie-parser\";\r\nimport helmet from \"helmet\";\r\n\r\nimport { AppModule } from \"./app.module\";\r\nimport { DocumentBuilder, SwaggerModule } from \"@nestjs/swagger\";\r\n\r\nasync function bootstrap() {\r\n  // Create the NestJS application instance with bufferLogs option enabled\r\n  const app = await NestFactory.create(AppModule, {\r\n    bufferLogs: true,\r\n  });\r\n\r\n  // Get the configuration service instance from the application\r\n  const configService = app.get(ConfigService);\r\n\r\n  // Enable URI versioning with default version '1'\r\n  app.enableVersioning({\r\n    type: VersioningType.URI,\r\n    defaultVersion: \"1\",\r\n  });\r\n\r\n  // Middleware setup\r\n  app.use(cookieParser());\r\n  app.use(helmet());\r\n  app.use(compression());\r\n  app.useGlobalPipes(\r\n    new ValidationPipe({\r\n      transform: true,\r\n      whitelist: true,\r\n      forbidNonWhitelisted: true,\r\n    })\r\n  );\r\n  app.enableCors({\r\n    origin: true,\r\n    methods: [\"GET\", \"HEAD\", \"PUT\", \"PATCH\", \"POST\", \"DELETE\", \"OPTIONS\"],\r\n    preflightContinue: false,\r\n    optionsSuccessStatus: 204,\r\n    credentials: true,\r\n  });\r\n\r\n  // Set up Swagger\r\n  const swaggerConfig = new DocumentBuilder()\r\n    .setTitle(\"Puri Bunda Entry API Documentation\")\r\n    .setDescription(\r\n      \"This is the API documentation for Puri Bunda Entry to help you get started with the API.\"\r\n    )\r\n    .setVersion(\"1.0\")\r\n    .build();\r\n\r\n  const document = SwaggerModule.createDocument(app, swaggerConfig);\r\n  SwaggerModule.setup(\"swagger\", app, document);\r\n\r\n  // Get port from config with a default value\r\n  const port = configService.get<number>(\"app.APP_PORT\", 8080);\r\n\r\n  // Start the application\r\n  await app.listen(port);\r\n}\r\n\r\n// Bootstrap the application\r\nbootstrap();\r\n"],"names":["bootstrap","app","NestFactory","create","AppModule","bufferLogs","configService","get","ConfigService","enableVersioning","type","VersioningType","URI","defaultVersion","use","cookieParser","helmet","compression","useGlobalPipes","ValidationPipe","transform","whitelist","forbidNonWhitelisted","enableCors","origin","methods","preflightContinue","optionsSuccessStatus","credentials","swaggerConfig","DocumentBuilder","setTitle","setDescription","setVersion","build","document","SwaggerModule","createDocument","setup","port","listen"],"mappings":";;;;wBAA+C;wBACjB;sBACF;oEACJ;qEACC;+DACN;2BAEO;yBACqB;;;;;;AAE/C,eAAeA;IACb,wEAAwE;IACxE,MAAMC,MAAM,MAAMC,iBAAW,CAACC,MAAM,CAACC,oBAAS,EAAE;QAC9CC,YAAY;IACd;IAEA,8DAA8D;IAC9D,MAAMC,gBAAgBL,IAAIM,GAAG,CAACC,qBAAa;IAE3C,iDAAiD;IACjDP,IAAIQ,gBAAgB,CAAC;QACnBC,MAAMC,sBAAc,CAACC,GAAG;QACxBC,gBAAgB;IAClB;IAEA,mBAAmB;IACnBZ,IAAIa,GAAG,CAACC,IAAAA,qBAAY;IACpBd,IAAIa,GAAG,CAACE,IAAAA,eAAM;IACdf,IAAIa,GAAG,CAACG,IAAAA,oBAAW;IACnBhB,IAAIiB,cAAc,CAChB,IAAIC,sBAAc,CAAC;QACjBC,WAAW;QACXC,WAAW;QACXC,sBAAsB;IACxB;IAEFrB,IAAIsB,UAAU,CAAC;QACbC,QAAQ;QACRC,SAAS;YAAC;YAAO;YAAQ;YAAO;YAAS;YAAQ;YAAU;SAAU;QACrEC,mBAAmB;QACnBC,sBAAsB;QACtBC,aAAa;IACf;IAEA,iBAAiB;IACjB,MAAMC,gBAAgB,IAAIC,wBAAe,GACtCC,QAAQ,CAAC,sCACTC,cAAc,CACb,4FAEDC,UAAU,CAAC,OACXC,KAAK;IAER,MAAMC,WAAWC,sBAAa,CAACC,cAAc,CAACpC,KAAK4B;IACnDO,sBAAa,CAACE,KAAK,CAAC,WAAWrC,KAAKkC;IAEpC,4CAA4C;IAC5C,MAAMI,OAAOjC,cAAcC,GAAG,CAAS,gBAAgB;IAEvD,wBAAwB;IACxB,MAAMN,IAAIuC,MAAM,CAACD;AACnB;AAEA,4BAA4B;AAC5BvC"}